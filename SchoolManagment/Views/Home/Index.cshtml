@model IEnumerable<Student>
@{
  ViewData["Title"] = "Student info";
}

<h1 class="display-4 mb-4 pb-2 border-bottom">Student List</h1>

<div class="controls py-2 mb-3 row">

  <div class="col-auto">
    <a class="btn btn-primary" asp-action="Create">Add new student</a>
  </div>
  
  <div class="col-6">
    <form class="row" asp-action="Index" method="GET">
      <div class="col-9">
        <label class="visually-hidden" for="Search">Search</label>
        <input class="form-control" id="Search" name="Search" type="Search" placeholder="search a student record">
      </div>

      <div class="col-3">
        <div class="d-grid gap-2">
          <button class="btn btn-outline-primary" type="submit">Search</button>
        </div>
      </div>
    </form>
  </div>

</div>

<table class="table table-sm table-hover">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Age</th>
      <th scope="col">Birthday</th>
      <th scope="col">Grade</th>
      <th scope="col">Email</th>
      <th scope="col">Phone</th>
      <th class=""></th>
    </tr>
  </thead>
  <tbody>
    @if (Model.Count() != 0)
    {
      foreach (var s in Model)
      {
        <tr>
          <th scope="row">@s.Id</th>
          <td>@s.FirstName</td>
          <td>@s.LastName</td>
          <td>@s.Birthday.GetAge()</td>
          <td>@s.Birthday.ToShortDateString()</td>
          <td>@(Enum.Parse<SchoolManagment.Enums.Grades>(s.Grade.ToString()))</td>
          <td>@s.Email</td>
          <td>@s.Phone</td>
          <td>
            <div class="dropend">
              <span class="bi bi-three-dots-vertical px-1" type="button" id="dropdownMenuButton1" title="Options"
            data-bs-toggle="dropdown">
              </span>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" asp-action="Edit" asp-route-id="@s.Id">Editar</a>
                </li>
                <li>
                  <a class="dropdown-item" asp-action="Delete" asp-route-id="@s.Id">Deletar</a>
                </li>
              </ul>
            </div>
          </td>
        </tr>
      }
    }
    else
    {
      <tr class="table-warning">
        <td colspan="2">
          <i class="bi bi-exclamation-triangle-fill"></i>
        </td>
        <td class="text-center fw-bold" colspan="3">No records found</td>
        <td colspan="3"></td>
      </tr>
    }
  </tbody>
</table>

@section icons {
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
}